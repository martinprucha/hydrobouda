<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<!-- template head -->
<head th:replace="fragment_head::head">
</head>

<!-- template body -->
<body>
	<!--  navigation bar -->
	<div th:replace="fragment_navigation::navigation"></div>

	<!-- header -->
	<div class="w3-container w3-blue-gray">
		<h1>Guestbook</h1>
	</div>

	<!-- content -->
	<div class="w3-container">
	
		<!-- form for posting a new message -->
		<div class="w3-container w3-row w3-margin-top">
			<div class="w3-col l5">
				<div class="w3-container w3-blue-gray ">
					<h3>Your new message:</h3>
				</div>
				<div class="w3-container">
					<form th:action="@{/guestbook}" th:object="${message}" th:method="post">
						<p>
							<label>Author:</label>
							<input class="w3-input w3-border" type="text" th:field="*{author}">
						</p>
						<p>
							<label>Message:</label>
							<textarea class="w3-input w3-border" cols="50" rows="3" th:field="*{text}"></textarea>
						</p>
						<p>
							<input type="submit" value="Post message!"/>
						</p>
					</form>
				</div>
			</div>
		</div>
		
		<!-- list of existing messages -->
		<div class="w3-container">
			<div class="w3-container w3-blue-gray">
				<h3>Existing messages in guestbook:</h3>
			</div>
			<div class="w3-container" th:each="message : ${messages}">
       			<p class="w3-dark-grey">
       				<span th:text="'[' + ${message.id} + ']'">ID</span>        				
       				<span th:text = "${message.author}">Author</span> -
       				<span th:text = "'(' + ${#dates.format(message.creationDate, 'dd.MM.yyyy HH:mm')} + ')'">Creation date</span> :
       			</p>
       			<p th:text="${message.text}">Text</p> 	
       			<hr/>
       		</div>
      	</div>
	</div>

	<!-- footer -->
	<div th:replace="fragment_footer::footer"></div>
	
	</body>
</html>